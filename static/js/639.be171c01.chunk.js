"use strict";(self.webpackChunkmemory_card_game=self.webpackChunkmemory_card_game||[]).push([[639],{3798:function(e,t,n){n.d(t,{L:function(){return i}});var r=n(5671),a=n(3144),o=n(4569),c=n.n(o),i=new(function(){function e(){(0,r.Z)(this,e),this.baseUrl=void 0,this.baseUrl="http://amiiboapi.com/api"}return(0,a.Z)(e,[{key:"getSeriesKeys",value:function(){return c().get(this.baseUrl+"/amiiboseries").then((function(e){return e.data}))}},{key:"getSeriesByKey",value:function(e){return c().get(this.baseUrl+"/amiibo/?amiiboSeries=".concat(e)).then((function(e){return e.data}))}}]),e}())},7639:function(e,t,n){function r(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}n.r(t),n.d(t,{default:function(){return S}});var a=n(907);var o=n(181);function c(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=n(885),l=n(7757),d=n.n(l),m="Game_container__LI8uV",h="Game_backBtn__qYOQx",y="Game_cards__N++Nq",b=n(6871),v=n(2791),p=n(3798),g="PlayCard_container__PUlbt",_="PlayCard_card__hxXGN",j="PlayCard_rotate__Y4O89",k="PlayCard_front__sr2D0",O="PlayCard_back__M0zFR",P=n(184),w=function(e){return(0,v.useEffect)((function(){}),[]),(0,P.jsx)("div",{className:g,"data-testId":"play-card",children:(0,P.jsxs)("div",{onClick:function(){return e.click()},className:"".concat(_," ").concat(e.rotate?j:""),children:[(0,P.jsx)("div",{className:k}),(0,P.jsx)("div",{"data-testId":"card-background",className:O,style:{backgroundImage:"url(".concat(e.background,")")}})]})})};var S=function(){var e=(0,v.useState)([]),t=(0,f.Z)(e,2),n=t[0],a=t[1],o=(0,v.useState)([]),i=(0,f.Z)(o,2),u=i[0],l=i[1],g=(0,v.useState)(null),_=(0,f.Z)(g,2),j=_[0],k=_[1],O=(0,v.useState)([]),S=(0,f.Z)(O,2),x=S[0],C=S[1],N=(0,v.useState)(0),Z=(0,f.Z)(N,2),E=Z[0],I=Z[1],A=(0,v.useRef)(!0),D=(0,b.TH)().state,G=(0,b.s0)(),U=null===D||void 0===D?void 0:D.series,M=null===D||void 0===D?void 0:D.key;(0,v.useEffect)((function(){A.current=!0}),[j]),(0,v.useEffect)((function(){x.length>0&&x.length===u.length&&L()}),[x,u]),(0,v.useEffect)((function(){var e=Array.from(Array(n.length).keys()).sort((function(){return Math.random()-.5})).slice(0,5).map((function(e){return s(s({},n[e]),{},{rotate:!1})}));l(function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}([].concat(c(e),c(e))))}),[n,E]),(0,v.useEffect)((function(){if(!U||!M)return G("/home");var e=function(){var e,t=(e=d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.L.getSeriesByKey(M).then((function(e){return e.amiibo}));case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var c=e.apply(t,n);function i(e){r(c,a,o,i,u,"next",e)}function u(e){r(c,a,o,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[U,M]);var B=function(e){l((function(t){return t.map((function(t,n){return e===n?s(s({},t),{},{rotate:!0}):t}))}))},K=function(e){null==j&&alert("contact police this should not have happened");var t=u[e],n=u[j];t.name!==n.name&&l((function(t){return t.map((function(t,n){return n===e||n===j?s(s({},t),{},{rotate:!1}):t}))})),t.name===n.name&&C((function(t){return[].concat(c(t),[e,j])})),k(null)},L=function(){alert("Win ".concat(E+1)),k(null),C([]),I((function(e){return e+1}))};return(0,P.jsxs)("div",{className:m,"data-testid":"game",children:[(0,P.jsx)("div",{onClick:function(){return G("/home")},className:h,children:"Change Game Series"}),(0,P.jsx)("section",{className:y,children:u.map((function(e,t){return(0,P.jsx)(w,{click:function(){return function(e){e!==j&&!x.includes(e)&&A.current&&(A.current=!1,B(e),setTimeout((function(){null!==j?K(e):k(e)}),500))}(t)},background:e.image,rotate:e.rotate},t)}))})]})}}}]);
//# sourceMappingURL=639.be171c01.chunk.js.map